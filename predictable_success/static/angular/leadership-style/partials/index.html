<div class="container leadership-style" data-hj-masked>

    <div class="account-menu">
        <!-- Single button -->
        <div class="btn-group dashboard pull-right" dropdown is-open="status.isopen">
          <a href="" dropdown-toggle ng-disabled="disabled" ng-click="index.trackEvent('Account link', 'click', null)">
            {{ $root.currentUser.employee.full_name }}
          </a>
          <ul class="dropdown-menu centered" dropdown-menu role="menu" aria-labelledby="single-button">
            <div class="dropdown-arrow"></div>
            <li role="menuitem"><a href="/logout" ng-click="index.trackEvent('Sign out link', 'click', null)">Sign out</a></li>
          </ul>
        </div>
    </div>
    <div ng-show="index.showTakeQuizNotification" class="panel">
        <div>
            <div class="landing-form">
                <div class="header panel-header">
                    <h1>Find Your Fool</h1>
                    <h2>
                        <span class="hide-for-mobile">Discover your personal leadership style and uncover how it fits with your team.</span>
                        <span class="mobile-show">Discover your personal leadership style.</span>
                    </h2>
                </div>
                <div ng-if="index.myLeadershipStyle.teams.length==0">
                    <div class="arrow-container">
                        <div class="arrow_box">Step One</div>
                        <div class="arrow_label">Finish Your Quiz</div>
                    </div>
                    <div style="clear: both;"></div>
                    <div class="clearfix">
                        <div class="copy-box-left">
                            Over the years we've discovered there are four types of Fool needed to grow a successful business. Using a leadership assessment developed by our friends at Predictable Success we've been able to:
                        </div>

                        <div class="copy-box-right">
                            <ul>
                                <li style="margin-bottom: 10px;">Increase personal performance by matching the right leadership style to the right role.</li>
                                <li style="margin: 10px 0;">Maximize team performance by bringing together the right mixture of leadership styles at the appropriate time.</li>
                                <li style="margin: 10px 0;">Get to the root of team dysfunction by developing a shared vocabulary to address conflict.</li>
                                <li style="margin: 10px 0;">Improve the quality of decisions at every level of the organization.</li>
                            </ul>
                            <button class="btn btn-submit btn-block" style="margin-bottom: 15px;" ng-click="index.takeQuiz(index.myLeadershipStyle);index.trackEvent('Finish your quiz button', 'click', null)">Finish Your Quiz</button>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <div class="panel fade-in" ng-if="index.myLeadershipStyle.scores.length > 0 && index.myLeadershipStyle.teams.length==0">
        <div class="panel-header complete">
            <div class="panel-header-avatar">
                <employee-avatar size="large" employee="index.myLeadershipStyle.employee"></employee-avatar>
            </div>
            <div class="panel-header-title sub-title">
                <h2>You</h2>
                <h3>
                    <span ng-repeat="score in index.myLeadershipStyle.scores | orderBy : 'score' : true">
                        <span ng-if="$first">{{score.style_verbose}} - {{score.score}},</span>
                        <span ng-if="!$first && !$last">{{score.style_verbose}} - {{score.score}},</span>
                        <span ng-if="$last">{{score.style_verbose}} - {{score.score}}</span>
                    </span>
                </h3>
            </div>
        </div>
        <div>
            <div class="landing-form">
                <div class="arrow-container">
                    <div class="arrow_box step_complete">Step One</div>
                    <div class="arrow_label">Read Your Results</div>
                </div>

                <div class="description-container">
                    <div ng-bind-html="index.myLeadershipStyle.description.description"></div>
                </div>
                <div ng-if="index.myLeadershipStyle.teams.length==0">
                    <div class="arrow-container">
                        <div class="arrow_box step_complete">Step Two</div>
                        <div class="arrow_label">Get Your Team Report</div>
                    </div>
                    <div style="clear: both;"></div>
                    <div class="clearfix">
                        <div style="padding-top: 20px">
                            <div class="copy-box-left">
                                Now that you know your leadership style the next step is to discover your team mate's style. Sign up today to get a detailed bespoke report that will show you:
                            </div>

                            <div class="copy-box-right">
                                <ul>
                                    <li style="margin-bottom: 10px;">Your team's ability to make and execute high quality decisions.</li>
                                    <li style="margin: 10px 0;">Which team mates have a natural tendency to butt heads.</li>
                                    <li style="margin: 10px 0;">What style you need to increase in your team to improve performance.</li>
                                    <li style="margin: 10px 0;">The overall culture of your team.</li>
                                    <li style="margin: 10px 0;">How aligned your team is to the Motley Fool team.</li>
                                </ul>
                                <div class="centered" style="margin: 15px 0;"><span style="color: #7f8c8d; font-size: 16px; font-weight: 700;">INVESTMENT | $199 (Up to 10 team members)</span></div>
                                <div ng-if="$root.customer.order_page_enabled">
                                    <form action="/account/payment" method="POST" id="paymentForm">
                                       <input type="hidden" name="csrfmiddlewaretoken" ng-value="index.myLeadershipStyle.csrf_token" >
                                        <button class="btn btn-submit btn-block" id="stripePay" ng-disabled="index.disableBuyButton" style="margin-bottom: 15px;" type="submit" ng-click="index.trackEvent('Open order page button', 'click', null)">Sign up for a Team Analysis</button>
                                        <input type="hidden" id="stripeToken" name="stripeToken" value="" />
                                        <input type="hidden" id="stripeEmail" name="stripeEmail" value="" />
                                    </form>
                                    <stripe-payments key="index.myLeadershipStyle.stripe_key" disable-buy-button="index.disableBuyButton"></stripe-payments>
                                </div>
                                <div ng-if="!$root.customer.order_page_enabled">
                                    <button class="btn btn-submit btn-block" style="margin-bottom: 15px;" ng-click="index.showOrderPageDown()">Sign up for a Team Analysis</button>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
    <div id="pt-main" class="pt-perspective" ng-repeat="team in index.myLeadershipStyle.teams | orderBy:'customer_id'" ng-if="$first">
        <div class="pt-page" animate-page-transition="index.page" page="0" scrolltop="true" in-class="pt-page-moveFromLeftFade" out-class="pt-page-moveToLeftFade">
            <!-- Team lead to do reminders -->
            <div ng-if="team.owner.id == $root.currentUser.employee.id">
                <div class="alert alert-info" role="alert" ng-if="team.remaining_invites>4">
                    <a class="btn btn-info btn-feedback pull-right" style="margin-left: 10px" ng-click="index.invite(team.id, team.remaining_invites, team.team_members.length, true)" type="button">
                        <i class="glyphicon glyphicon-plus"></i> Invite Your Team
                    </a>
                    <i class="fa fa-exclamation-circle sent-icon"></i>
                    <h2 class="alert-title" style="margin-bottom: 10px;">
                        <span ng-if="team.team_members.length==1">Invite up to <span style="font-weight: 900;font-size: 22px;">{{ team.remaining_invites }}</span> team members</span>
                        <span ng-if="team.team_members.length>1">You have {{ team.remaining_invites }} <span ng-if="team.remaining_invites>1">invites</span><span ng-if="team.remaining_invites==1">invite</span> remaining</span>
                    </h2>
                    <p class="alert-message">
                        <span ng-if="(team.team_members.length - team.number_of_quizes_completed) > 1">{{ team.number_of_quizes_not_completed }} of your team members still need to finish their quiz.</span>
                        <span ng-if="(team.team_members.length - team.number_of_quizes_completed) == 1">1 more person still needs to finish their quiz.</span>
                        <span ng-if="!team.requested_report">When your teammates have finished their quiz click <a href="" style="text-decoration: underline" ng-click="index.requestTeamReport(team, true, $index)">here</a> to request your one-time, customized report.</span>
                    </p>
                </div>
                <div class="alert alert-info" role="alert" ng-if="(team.number_of_quizes_completed < team.team_members.length) && team.remaining_invites<=4">
                    <a class="btn btn-info btn-feedback pull-right" style="margin-left: 10px" ng-disabled="true" ng-click="index.invite(team.id, team.remaining_invites, team.team_members.length, true)" type="button">
                        Remind Your Team
                    </a>
                    <i class="fa fa-exclamation-circle sent-icon"></i>
                    <h2 class="alert-title" style="margin-bottom: 10px;">
                        <span ng-if="(team.team_members.length - team.number_of_quizes_completed) > 1">{{ team.number_of_quizes_not_completed }} of your team members still need to finish their quiz.</span>
                        <span ng-if="(team.team_members.length - team.number_of_quizes_completed) == 1">1 more person still needs to finish their quiz.</span>
                    </h2>
                    <p class="alert-message">
                        <span ng-if="!team.requested_report">When your teammates have finished their quiz click <a href="" style="text-decoration: underline" ng-click="index.requestTeamReport(team, true, $index)">here</a> to request your one-time, customized report.</span>
                    </p>
                    <p class="alert-message" ng-if="team.remaining_invites>0">
                        <span ng-if="team.remaining_invites>1">Remember you can still invite up to {{ team.remaining_invites }} teammates. <a href="" style="text-decoration: underline" ng-click="index.invite(team.id, team.remaining_invites, team.team_members.length, true)">Send more invites.</a></span>
                        <span ng-if="team.remaining_invites==1">Remember you can invite one more teammate. <a href="" style="text-decoration: underline" ng-click="index.invite(team.id, team.remaining_invites, team.team_members.length, true)">Send an invite.</a></span>
                    </p>
                </div>
                <div class="alert alert-info" role="alert" ng-if="(team.number_of_quizes_completed == team.team_members.length) && team.remaining_invites<=4 && !team.requested_report">
                    <a class="btn btn-info btn-feedback pull-right" style="margin-left: 10px" ng-click="index.requestTeamReport(team, (team.remaining_invites>0), $index)" type="button">
                        Request Your Report
                    </a>
                    <i class="fa fa-exclamation-circle sent-icon"></i>
                    <h2 class="alert-title" style="margin-bottom: 10px;">
                        Request your report
                    </h2>
                    <p class="alert-message" ng-if="team.remaining_invites>0">
                        <span ng-if="team.remaining_invites>1">Before you do, remember you can still invite up to {{ team.remaining_invites }} teammates. <a href="" style="text-decoration: underline" ng-click="index.invite(team.id, team.remaining_invites, team.team_members.length, true)">Send more invites.</a></span>
                        <span ng-if="team.remaining_invites==1">Before you do, remember you can still invite one more teammate. <a href="" style="text-decoration: underline" ng-click="index.invite(team.id, team.remaining_invites, team.team_members.length, true)">Send an invite.</a></span>
                    </p>
                    <p class="alert-message" ng-if="team.remaining_invites==0">
                        All your team quizzes are done. Be sure to get your customized team report.
                    </p>
                </div>
                <div class="alert alert-info" role="alert" ng-if="team.requested_report && !team.received_report">
                    <i class="fa fa-exclamation-circle sent-icon"></i>
                    <h2 class="alert-title" style="margin-bottom: 10px;">
                        We are generating your report
                    </h2>
                    <p class="alert-message">
                        Please allow 3-5 business days. If you need any help or have questions please contact us at <a href="mailto:{{ $root.customer.support_email }}">{{ $root.customer.support_email }}</a>.
                    </p>
                </div>
            </div>
            <div class="panel fade-in clearfix">
                <div class="panel-header complete">
                    <h3 class="modal-title sub-title">Your Team</h3>
                </div>
                <div class="team-summary">
                    <div class="team-summary-chart">
                        <h2 class="chart-title centered">Team Score Average</h2>
                        <canvas id="pie" class="chart chart-doughnut pull-right" chart-data="team.chartData" chart-labels="team.chartLabels" chart-options="team.chartOptions" chart-colors="team.chartColors" chart-click="team.chartClick"></canvas>
                    </div>
                    <div class="team-summary-description" style="position: relative;">
                        <div>
                            <h2 class="leadership-style-title">Interpretating scores</h2>
                            <p class="leadership-style-description">The quiz is to a degree both situational and aspirational. Up to 15-20% of an individualâ€™s responses can be affected by the specific role or task they are engaged in at the time they took the quiz. Another 15-20% of their responses can be affected by what they would like to see themselves as.</p>
                            <p class="leadership-style-description">Scores are distributed across the 4 leadership styles totaling 960. Typically it is ideal for Teams to be as close to 240 across all leadership styles to ensure there is an equal representation of all viewpoints.</p>
                            <p class="leadership-style-description">Click the buttons below, or click the pie chart, to learn more about your Team's leadership styles.</p>
                        </div>
                    </div>
                </div>
                <div class="panel-footer">
                    <span class="glyphicon-regular glyphicons-sorting" style="vertical-align: middle; color: #aaa; margin-right: 10px"></span>
                    <button class="btn btn-sort btn-visionary" ng-click="index.sortClick(team, index.orderByVisionary)" ng-class="{'btn-active': index.currentOrder==0}">
                        <span class="mobile-show">V</span>
                        <span class="hide-for-mobile">Visionary</span>
                    </button>
                    <button class="btn btn-sort btn-operator" ng-click="index.sortClick(team, index.orderByOperator)" ng-class="{'btn-active': index.currentOrder==1}">
                        <span class="mobile-show">O</span>
                        <span class="hide-for-mobile">Operator</span>
                    </button>
                    <button class="btn btn-sort btn-processor" ng-click="index.sortClick(team, index.orderByProcessor)" ng-class="{'btn-active': index.currentOrder==2}">
                        <span class="mobile-show">P</span>
                        <span class="hide-for-mobile">Processor</span>
                    </button>
                    <button class="btn btn-sort btn-synergist" ng-click="index.sortClick(team, index.orderBySynergist)" ng-class="{'btn-active': index.currentOrder==3}">
                        <span class="mobile-show">S</span>
                        <span class="hide-for-mobile">Synergist</span>
                    </button>
                    <a href="" style="margin-left: 20px" ng-if="index.tease" ng-click="index.showTease(index.tease)">Read more about the {{index.tease.style_verbose}}</a>
                </div>

            </div>
            <div class="invite-360" style="height: 25px;">
                <h4 ng-if="!team.is_team_full && team.owner.id == $root.currentUser.employee.id" class="header"><a href="" class="pull-right" ng-click="index.invite(team.id, team.remaining_invites, team.team_members.length, true)">+ Invite more team members</a></h4>
            </div>
            <div style="position: relative;">
                <div style="position: absolute;width: 100%;">
                    <ul class="isotope table-like">
                        <li ng-repeat="team_member in team.team_members  | orderBy:'full_name'" ng-click="index.gotoPage(team_member.id, true)" ng-style="{top: (((team_member.index) * 155) + 'px')}" ng-class="{'incomplete': !team_member.leadership_style || !team_member.leadership_style.completed}" >
                            <div class="clearfix panel-header" style="width: 100%; background-color: transparent">
                                <div class="panel-header-avatar">
                                    <employee-avatar size="large" employee="team_member"></employee-avatar>
                                </div>
                                <div class="panel-header-title" style="margin-top: -5px">
                                    <div class="pull-right hide-for-mobile">
                                        <span ng-repeat="score in team_member.leadership_style.scores | orderBy : 'score' : true">
                                            <p style="margin-bottom: 5px;">
                                                <span class="sub-title" style="font-size: 18px" ng-class="{'highligh-sort':score.style==index.currentOrder, 'dim-sort':(index.currentOrder!=null && score.style!=index.currentOrder)}">{{score.style_verbose}} - {{score.score}}</span>
                                            </p>
                                        </span>
                                    </div>
                                    <div>
                                        <h3 class="modal-title" style="color: #fff;margin-bottom: 8px;">
                                            {{ team_member.full_name }}
                                        </h3>
                                    </div>
                                    <div ng-if="!team_member.leadership_style || !team_member.leadership_style.completed">
                                        <h3 class="modal-title sub-title" style="margin-bottom: 0;" ng-if="!team_member.leadership_style">
                                            0% Completed
                                        </h3>
                                        <h3 class="modal-title sub-title" style="margin-bottom: 0;" ng-if="team_member.leadership_style">
                                            {{ team_member.leadership_style.percentage_complete }}% Completed
                                        </h3>
                                    </div>
                                    <div style="display: block" ng-if="team_member.leadership_style && team_member.leadership_style.completed">
                                        <h3 class="modal-title sub-title" style="margin-bottom: 0;">
                                            {{ team_member.leadership_style.description.name }}
                                        </h3>
                                    </div>
                                </div>
                            </div>
                        </li>
                    </ul>
                </div>
            </div>
        </div>
        <div class="pt-page" animate-page-transition="index.page" scrolltop="true" page="team_member.id" in-class="pt-page-moveFromRightFade" out-class="pt-page-moveToRightFade" ng-repeat="team_member in team.team_members">
            <div ng-include="'/static/angular/leadership-style/partials/leadership-style.html'"></div>
        </div>
    </div>
</div>

<style>

    .vertical-align-text {
    display: table-cell;
    vertical-align: middle;
    height:50px;
    color: #333333;
}
.employee-happiness-container {margin: 0}
.vertical-align-container {
    display: table;
}
    /* ---- isotope ---- */

.isotope {
  background: #DDD;
  max-width: 1200px;
}

/* clear fix */
.isotope:after {
  content: '';
  display: block;
  clear: both;
}

/* ---- vertical table-like ---- */

.table-like {
  list-style: none;
  margin: 0;
  padding: 0;
}

.table-like > li {
    width: 100%;
    position: absolute;
    clear: both;
    background-color: #75b9e7;
    padding: 20px;
    box-shadow: 3px 3px 2px #888888;
    color: #DDD;
    /* Top: 0; this will be changed for every single list item by AngularJS */
    top:0;
    /* Item height; hold this in sync with template file */
    height: 128px;
    /*  Simple transition */
    -webkit-transition: top .7s ease-in-out;
    -moz-transition: top .7s ease-in-out;
    transition: top .7s ease-in-out;
    cursor: pointer;
}

.table-like > li:hover {
    background-color: #3498db;
}

.table-like > li.incomplete:hover {
    background-color: #aaa;
}

.table-like > li.header {
    border-top: 0px;
}

/* clearfix */
.table-like > li:after {
  display: block;
  content: '';
  clear: both;
}

.table-like > li > * {
  float: left;
  padding: 5px 4px;
  font-size: 18px;
}
.pt-perspective {
	position: relative;
	width: 100%;
	height: 100%;
	perspective: 1200px;
	transform-style: preserve-3d;
}

.pt-page {
	width: 100%;
	height: 100%;
	position: absolute;
	top: 0;
	left: 0;
	visibility: hidden;
	backface-visibility: hidden;
	transform: translate3d(0, 0, 0);
}

.pt-page-current,
.no-js .pt-page {
	visibility: visible;
}

.no-js body {
	overflow: auto;
}

.pt-page-ontop {
	z-index: 999;
}

.btn-employee {
    font-size: 25px;
    color: #aaa;
    border: 5px solid #aaa;
    border-radius: 10px;
    background-color: #fff;
    margin-bottom: 30px;
    margin-top: 30px;
    width: 100%;
}
.btn-employee span.fa {
    font-size: 35px;
    vertical-align: middle !important;
}
.btn-employee span.btn-label {
    display: inline-block;
    vertical-align: middle;
}
.btn-employee:hover {
    color: #aaa;
    opacity: .5;
}
.btn-employee:focus {
    color: #aaa;
}

.btn-sort {
    color: #fff;
    border: None;
}
.btn-sort:hover {
    color: #fff;
    opacity: .5;
}
.btn-sort:focus {
    color: #fff;
}
.btn-visionary {
    background-color: #d65335;
}
.btn-visionary:hover {
    background-color: #d65335;
}
.btn-operator {
    background-color: #51a9b7;
}
.btn-operator:hover {
    background-color: #51a9b7;
}
.btn-processor {
    background-color: #f7ca18;
}
.btn-processor:hover {
    background-color: #f7ca18;
}
.btn-synergist {
    background-color: #69b63b;
}
.btn-synergist:hover {
    background-color: #69b63b;
}
.btn-active {
    outline: 8px auto rgb(97, 157, 215);
    outline-offset: -2px;
}
.glyphicons-sorting:before {
    content: "\e404";
}
.highligh-sort {
    font-weight: 500;
}
.dim-sort {
    opacity: .4;
}
.sub-title {
    -webkit-transition: opacity .7s ease-in;
    -moz-transition: opacity .7s ease-in;
    transition: opacity .7s ease-in-out;
}
</style>