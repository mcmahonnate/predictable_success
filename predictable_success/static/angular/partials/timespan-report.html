<div class="container" ng-controller="TimespanReportCtrl" > 
    <div class="pull-right">
        <button class="btn btn-default pull-left" type="button" ng-csv="buildCSV()" csv-header="['User', 'Comments', 'Tasks', 'Check-ins']" filename="timespan.csv">
            <span class="fa fa-download"></span> Download
        </button>
    </div>    
    <h1>Activity Report</h1>
    <div class="panel">
		<form name="timespan" class="timeform" ng-submit="submit();" style="width:300px;">
			<div class="form-group">
				<label for="startDate"><strong>Start Date</strong></label>
				<input id="startDate" ng-model="startDate" name="startDate" class="form-control" />
			</div>
			<div class="form-group" style="margin:15px 0;">	
				<label for="endDate"><strong>End Date</strong></label>
				<input id="endDate" ng-model="endDate" name="endDate" class="form-control" />
			</div>
			<input type="submit" id="submit" value="Submit" class="btn btn-primary" />
		</form>


		<div class="row" ng-show="submitted" style="margin-top:45px;">
			<div class="col-sm-4">
				<h3>Total Comments: <strong>{{total.comments}}</strong></h3>
				<div ng-repeat="(user, count) in responseData.comments">
					<p>{{user}}: {{count}}</p>
				</div>
			</div>
			<div class="col-sm-4">
				<h3>Total Tasks: <strong>{{total.tasks}}</strong></h3>
				<div ng-repeat="(user, count) in responseData.tasks">
					<p>{{user}}: {{count}}</p>
				</div>
			</div>			
			<div class="col-sm-4">
				<h3>Total Checkins: <strong>{{total.checkins}}</strong></h3>
				<div ng-repeat="(user, count) in responseData.checkins">
					<p>{{user}}: {{count}}</p>
				</div>
			</div>
		</div>
    </div>
</div>    	