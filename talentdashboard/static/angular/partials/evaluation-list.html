<div ng-include="'/static/angular/partials/_widgets/navigation.html'"></div>
<div class="container">
    <div class="row">
        <div class="dropdown btn-group">
            <h1><span ng-if="!categoryName">All Employees</span>{{categoryName}}</h1> 
        </div>
        <div class="dropdown pull-right">
            <button class="btn btn-default dropdown-toggle" type="button" id="dropdownMenu1" data-toggle="dropdown" aria-expanded="true">
                All Moods
                <span class="caret"></span>
            </button>
            <ul class="dropdown-menu" role="menu" aria-labelledby="dropdownMenu1">
                <li ng-click="happy=5" role="presentation"><a role="menuitem" tabindex="-1" href="javascript:void(0)"><span class="veryhappy"></span> <span class="text">Very Happy</span></a></li>
                <li ng-click="happy=4" role="presentation"><a role="menuitem" tabindex="-1" href="javascript:void(0)"><span class="happy"></span> <span class="text">Happy</span></a></li>
                <li ng-click="happy=3" role="presentation"><a role="menuitem" tabindex="-1" href="javascript:void(0)"><span class="indifferent"></span> <span class="text">Indifferent</span></a></li>
                <li ng-click="happy=2" role="presentation"><a role="menuitem" tabindex="-1" href="javascript:void(0)"><span class="unhappy"></span> <span class="text">Unhappy</span></a></li>
                <li ng-click="happy=1" role="presentation"><a role="menuitem" tabindex="-1" href="javascript:void(0)"><span class="veryunhappy"></span> <span class="text">Very Unhappy</span></a></li>
                <li ng-click="happy=-1" role="presentation"><a role="menuitem" tabindex="-1" href="javascript:void(0)"><span class="nohappydata"></span> <span class="text">No Happiness</span></a></li>
                <li ng-click="happy=null" role="presentation"><a role="menuitem" tabindex="-1" href="javascript:void(0)">All Moods</a></li>
            </ul>
        </div>

        <div class="dropdown pull-right" style="margin-right:5px">
            <button class="btn btn-default dropdown-toggle" type="button" id="dropdownMenu2" data-toggle="dropdown" aria-expanded="true">
                <span ng-if="!teamName">All Teams</span> {{teamName}}
                <span class="caret"></span>
            </button>
            <ul ng-controller="TeamListCtrl" class="dropdown-menu dropdown-teams" role="menu" aria-labelledby="dropdownMenu2">
                <li ng-repeat="team in teams | orderBy:'name'">
                    <a ng-click="setTeamFilter(team.id, team.name);menu.show=false;">{{team.name}}</a>
                </li>
                <li class="divider"></li>
                <li><a ng-click="menu.show=false;setTeamFilter('','')">All Teams</a></li>
            </ul>
        </div>

        <div style="display:none">
            <div ng-click="happy=5" ng-class="{happyNavHighlight: happy==5}" class="veryhappy happyNav" style="display:inline-block;margin:0 1px;"></div>
            <div ng-click="happy=4" ng-class="{happyNavHighlight: happy==4}" class="happy happyNav" style="display:inline-block;margin:0 1px;"></div>
            <div ng-click="happy=3" ng-class="{happyNavHighlight: happy==3}" class="indifferent happyNav" style="display:inline-block;margin:0 1px;"></div>
            <div ng-click="happy=2" ng-class="{happyNavHighlight: happy==2}" class="unhappy happyNav" style="display:inline-block;margin:0 1px;"></div>
            <div ng-click="happy=1" ng-class="{happyNavHighlight: happy==1}" class="veryunhappy happyNav" style="display:inline-block;margin:0 1px;"></div>
            <div ng-click="happy=-1" ng-class="{happyNavHighlight: happy==-1}" class="nohappydata happyNav" style="display:inline-block;margin:0 1px;"></div>
            <div ng-click="happy=null" class="glyphicon glyphicon-clear happyNav" style="display:inline-block;margin:0 1px;font-size:18px"></div>
        </div> 

        <div ng-if="customer.show_kolbe">
            <div style="width:200px;display:inline-block;margin: 5px 18px;">
                <div slider-fact-finder style="width:200px;display:inline-block;margin: 5px 0px;"></div>
            </div>
            <div style="width:200px;display:inline-block;margin: 5px 18px;">
                <div slider-follow-thru style="width:200px;display:inline-block;margin: 5px 0px;"></div>
            </div>
            <div style="width:200px;display:inline-block;margin: 5px 18px;">
                <div slider-quick-start style="width:200px;display:inline-block;margin: 5px 0px;"></div>
            </div>
            <div style="width:200px;display:inline-block;margin: 5px 18px;">
                <div slider-implementor style="width:200px;display:inline-block;margin: 5px 0px;"></div>
            </div>
        </div>
        <div ng-if="customer.show_vops">
            <div style="width:200px;display:inline-block;margin: 5px 18px;">
                <div slider-vops label="Visionary" type="0" style="width:200px;display:inline-block;margin: 5px 0px;"></div>
            </div>
            <div style="width:200px;display:inline-block;margin: 5px 18px;">
                <div slider-vops label="Operator" type="1" style="width:200px;display:inline-block;margin: 5px 0px;"></div>
            </div>
            <div style="width:200px;display:inline-block;margin: 5px 18px;">
                <div slider-vops label="Processor" type="2" style="width:200px;display:inline-block;margin: 5px 0px;"></div>
            </div>
            <div style="width:200px;display:inline-block;margin: 5px 18px;">
                <div slider-vops label="Synergist" type="3" style="width:200px;display:inline-block;margin: 5px 0px;"></div>
            </div>
        </div>
    </div>    

    <div class="row filled-light rounded" style="padding:25px">
        <div class="col-sm-6 col-md-4 col-md-3 animate employee" on-filter index="{{$index}}" stale-days="90" ng-repeat="employee in filteredEmployees = (evaluations | filterEmployees:talentCategory:teamId:happy:days_since_happy:fact_finder:follow_thru:quick_start:implementor:vops[0]:vops[1]:vops[2]:vops[3]) | orderBy:['full_name']">
            <div class="large-avatar-container">
                <a href="#/employees/{{employee.id}}"><img ng-src="{{ employee.avatar }}" class="large-headshot large-headshot-active" /></a>  
                <div class="employee-attribute employee-attribute-large" rel="tooltip" data-toggle="tooltip" data-placement="right" data-original-title="{{employee.current_talent_category}}">
                    <span class="segment user-segment-background-color-{{employee.current_talent_category}}"></span>
                    <span class="happiness" ng-class="{'veryhappy': employee.happiness==5,'happy': employee.happiness==4,'indifferent': employee.happiness==3,'unhappy': employee.happiness==2,'veryunhappy': employee.happiness==1}"></span>
                </div>
            </div> 
            <h3 class="employee-name centered"><a href="#/employees/{{employee.id}}">{{employee.full_name}}</a></h3> 
            <div class="team-name centered "><a ng-click="setTeamFilter(employee.team.id, employee.team.name);menu.show=false;">{{employee.team.name}}</a></div>
        </div>
        <div ng-show="!filteredEmployees.length" class="no-results ng-cloak" ng-cloak>No Results</div> 
    </div>
</div>
