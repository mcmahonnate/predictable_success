  <div ng-include="'/static/angular/partials/header.html'"></div>
  <div class="dashboard-sized-el fade" ng-class="{in:coachees}" id="dashboard" style="margin-top: 63px; max-width: 970px;">
    <article class="widget clock loaded" id="widget-8494" style="top: 0px; left: 650px; width: auto;" ng-init="showToDo=true">
      <div ng-controller="MyToDoListCtrl" class="widget-inner large-screen" style="width:315px;min-height: 510px;">
        <header class="no-reload">
          <h1 style="display:inline;">My To Do's</h1>
        </header>
        <div class="todo-nav" ng-class="{'todo-nav-active': showToDo}" ng-click="showToDo=true;showDone=false">To Do</div>
        <div class="todo-nav" ng-class="{'todo-nav-active': showDone}" ng-click="showToDo=false;showDone=true">Done</div>
        <section ng-show="showToDo" class="widget-body text-widget" style="padding:12px;margin-top:20px;">
            <span ng-show="todos.length==0">You currently don't have any tasks.</span>
            <div ng-if="todos.length > 0">
                <div ng-repeat="todo in todos" ng-controller="EmployeeToDoCtrl" ng-init="currentToDo=todo">
                    <input show="{{scrollIntoView}}" ng-scroll-into-view type="checkbox" ng-click="saveToDo(todo)" ng-model="todo.completed" style="padding: 5px;float: left;">

                    <textarea ng-model="todo.description" focus-me="todo.edit" ng-enter="saveToDo();scrubToDo(todo);" ng-blur="saveToDo();scrubToDo(todo);" ng-show="todo.edit"  placeholder="Add a To Do..." style="position: relative; width: 265px; height: 13px;background-color:#2a2a2a;color:#eee;resize:none;overflow:hidden;font-size: 13px;">
                    </textarea>
                    <div ng-show="!todo.edit" ng-class="{'todo-completed': todo.completed}" style="display:inline-block;width: 260px;float:left;margin-top: 3px;margin-left: 2px;padding-bottom: 3px;"><a ng-href="/#/employees/{{todo.employee.id}}">({{todo.employee.full_name}}) {{todo.description}}</a></div>
                    <ul class="feed-actions" style="margin-left: 2px;margin-top:0px;">
                        <li class="feed-action"><a class="assignee_menu" ng-click="toggleAssigneeMenu()" style="color: #8b8b8b;cursor: pointer;">{{todo.assigned_to.full_name||"Unassigned"}}</a></li>
                        <li class="feed-action"><a ng-click="open($event);closeAssigneeMenu()" style="color: #8b8b8b;cursor: pointer;">{{(todo.due_date | date:'MMM d, yyyy') || "No due date"}}</a></li>
                        <li class="feed-action"><a ng-show="!todo.edit" ng-click="todo.edit=true" class="feed-action" style="color: #8b8b8b;cursor: pointer;">edit</a><a ng-show="todo.edit" ng-click="todo.edit=false" class="feed-action" style="color: #8b8b8b;cursor: pointer;">edit</a></li>
                        <span style="color:#8b8b8b;"><a ng-click="deleteToDo(todo)" class="feed-action" style="color: #8b8b8b;cursor: pointer;">delete</a></span>
                    </ul>
                    <span type="text" class="form-control" datepicker-popup="{{format}}" ng-model="todo.due_date" is-open="opened" min="minDate" datepicker-options="" date-disabled="disabled(date, mode)" show-weeks="false" ng-required="true" close-text="Close"/>
                    <div style="clear:both;"></div>
                    <div ng-show="openAssigneeMenu" style="border: 1px solid #ccc;padding: 8px 3px;border-radius: 4px;background-color:#272727;margin-bottom:10px;">
                            <div class="assignee-arrow-border"></div>
                            <div class="assignee-arrow"></div>
                            <ul style="margin-top: -30px;">
                                <li class="assignee-select"><a class="assignee-select-link" ng-click="assigneeMenu.show=false;todo.assigned_to=null;saveToDo()">Unassigned</a></li>
                                <li class="assignee-select" ng-repeat="assignee in assignees | orderBy:'full_name'">
                                    <a class="assignee-select-link" ng-click="assigneeMenu.show=false;todo.assigned_to=assignee;saveToDo()" style="cursor: pointer;">{{assignee.full_name}}</a>
                                </li>
                            </ul>
                    </div>
                </div>
            </div>
        </section>
        <section ng-show="showDone" class="widget-body text-widget" style="padding:12px;margin-top:20px;">
            <span ng-show="completed_todos.length==0">Empty</span>
            <div ng-if="completed_todos.length > 0">
                <div ng-repeat="todo in completed_todos" ng-controller="EmployeeToDoCtrl" ng-init="currentToDo=todo">
                    <input show="{{scrollIntoView}}" ng-scroll-into-view type="checkbox" ng-click="saveToDo(todo)" ng-model="todo.completed" style="padding: 5px;float: left;">

                    <div ng-show="!todo.edit" ng-class="{'todo-completed': todo.completed}" style="display:inline-block;width: 260px;float:left;margin-top: 3px;margin-left: 2px;padding-bottom: 3px;"><a ng-href="/#/employees/{{todo.employee.id}}">({{todo.employee.full_name}}) {{todo.description}}</a></div>
                    <ul class="feed-actions" style="margin-left: 2px;margin-top:0px;">
                        <li class="feed-action">{{todo.assigned_to.full_name||"Unassigned"}}</li>
                        <span style="color:#8b8b8b;">{{(todo.due_date | date:'MMM d, yyyy') || "No due date"}}</span>
                    </ul>
                    <span type="text" class="form-control" datepicker-popup="{{format}}" ng-model="todo.due_date" is-open="opened" min="minDate" datepicker-options="" date-disabled="disabled(date, mode)" show-weeks="false" ng-required="true" close-text="Close"/>
                    <div style="clear:both;"></div>
                </div>
            </div>
        </section>
      </div>
    </article>
  <div class="dashboard-sized-el fade in" ng-class="{in:coachees}" id="dashboard" style="margin-top: 63px; max-width: 970px;">
    <div class="widget-inner large-screen">
        <div id="sorts" class="button-group" style="display: inline-block;">
          <button class="sort-button" ng-class="{'is-checked':orderValue=='name'}" ng-click="order('name')">name</button>
          <button class="sort-button" ng-class="{'is-checked':orderValue=='talent'}" ng-click="order('talent')">talent</button>
          <button class="sort-button" ng-class="{'is-checked':orderValue=='happy'}" ng-click="order('happy')">happy</button>
          <button class="sort-button" ng-class="{'is-checked':orderValue=='date'}" ng-click="order('date')">date</button>
        </div>
        <div style="position: absolute;width: 100%;margin-top:15px;">
            <ul class="isotope table-like">
                <li ng-repeat="employee in coachees" ng-style="{top: ((($index) * 55) + 'px')}">
                    <div class="name"><a href="#/employees/{{employee.id}}">{{employee.full_name}}</a></div>
                    <div class="talent"><canvas width="18" height="18" style="float:left;padding-left: 20px;" employee-talent-category="{{employee.talent_category}}"></canvas></div>
                    <div class="happy-score" ng-class="{'veryhappy': employee.happiness==5,'happy': employee.happiness==4,'indifferent': employee.happiness==3,'unhappy': employee.happiness==2,'veryunhappy': employee.happiness==1, 'nohappydata': employee.happiness==-1}"></div>
                    <div class="happy-date">{{employee.happiness_date}}</div>
                 </li>
            </ul>
        </div>
    </div>
  </div>

<style>

/* ---- button ---- */

.sort-button {
  display: inline-block;
  padding: 0.5em 1.0em;
  background: #EEE;
  border: none;
  border-radius: 7px;
  background-image: linear-gradient( to bottom, hsla(0, 0%, 0%, 0), hsla(0, 0%, 0%, 0.2) );
  color: #222;
  font-family: sans-serif;
  font-size: 16px;
  text-shadow: 0 1px white;
  cursor: pointer;
}

.sort-button:hover {
  background-color: #8CF;
  text-shadow: 0 1px hsla(0, 0%, 100%, 0.5);
  color: #222;
}

.sort-button:active,
.sort-button.is-checked {
  background-color: #28F;
}

.sort-button.is-checked {
  color: white;
  text-shadow: 0 -1px hsla(0, 0%, 0%, 0.8);
}

.sort-button:active {
  box-shadow: inset 0 1px 10px hsla(0, 0%, 0%, 0.8);
}

/* ---- button-group ---- */

.button-group:after {
  content: '';
  display: block;
  clear: both;
}

.button-group .sort-button {
  float: left;
  border-radius: 0;
  margin-left: 0;
  margin-right: 1px;
}

.button-group .sort-button:first-child { border-radius: 0.5em 0 0 0.5em; }
.button-group .sort-button:last-child { border-radius: 0 0.5em 0.5em 0; }


/* ---- isotope ---- */

.isotope {
  background: #DDD;
  max-width: 1200px;
}

/* clear fix */
.isotope:after {
  content: '';
  display: block;
  clear: both;
}

/* ---- vertical table-like ---- */

.table-like {
  list-style: none;
  margin: 0;
  padding: 0;
}

.table-like > li {
  width: 65%;
  position: absolute;
  clear: both;
  border-top: 1px solid;
  border-color: #DDD;
  color: #DDD;
  position: absolute;
  /* Top: 0; this will be changed for every single list item by AngularJS */
  top:0;
  /* Item height; hold this in sync with template file */
  height: 40px;
  /*  Simple transition */
  -webkit-transition: top 1s ease-in-out;
  -moz-transition: top 1s ease-in-out;
  transition: top 1s ease-in-out;
}

.table-like > li.header {
    border-top: 0px;
}

/* clearfix */
.table-like > li:after {
  display: block;
  content: '';
  clear: both;
}

.table-like > li > * {
  float: left;
  padding: 5px 4px;
  font-size: 18px;
}

.table-like .name { width: 50%; }
.table-like .talent { width: 10%;}
.table-like .happy-score { width: 15%; text-align: center;}
.table-like .happy-date { width: 15%; }
.table-like .category { width: 10%; }

</style>