  <div ng-include="'/static/angular/partials/header.html'"></div>
  <div class="dashboard-sized-el fade" ng-class="{in:team}" id="dashboard" style="margin-top: 63px; max-width: 970px;">

    <article class="widget clock loaded" id="widget-8494" style="top: 0px; left: 0px; width: auto;">
      <div class="widget-inner widget-size-1x1 large-screen">
        <header class="no-reload">
          <h1 id="talent-header" style="display:inline;">{{ team.name }}</h1>
        </header>

        <div>
			<div x-talent-category-chart size="small" style="width: 360px; height: 225px; position: relative; left:5px;top:10px;"></div>
		</div>

      </div>
    </article>

    <article class="widget google-analytics loaded" id="widget-14808658" style="top: 0px; left: 325px; width: auto;">
      <div class="widget-inner widget-size-1x1 large-screen">
        <header class="no-reload">
          <h1 style="display:inline;">Total Salaries</h1>
        </header>
        <section class="widget-body number-widget">
            <div id="total-salaries" class="main-stat t-size-x48" style="text-align: center;padding-bottom:15px;">
            {{salaryReport.total_salaries | currency | noCents }}
            </div><!-- .widget-canvas -->
            <div style="display:block;padding-bottom:10px;">Totals by Talent</div>
            <div style="main-stat t-size-x12;margin-bottom:5px;" ng-repeat="(category, salaries) in salaryReport.categories track by $index">
              <canvas width="12" height="12" employee-talent-category="{{category}}"></canvas>
              <span style="margin-left:10px;width:80px;text-align:right;display:inline-block;">{{salaries | currency | noCents }}</span>
            </div>
        </section>
        <div id="salary_visualization" style="width: 315px; height: 300px;"></div>
      </div><!-- .widget-inner -->
    </article>

    <article class="widget google-analytics loaded" id="widget-14808658" style="top: 0px; left: 650px; width: auto;">
      <div class="widget-inner widget-size-1x1 large-screen">
        <header class="no-reload">
          <h1 style="display:inline;">Team Leads</h1>
        </header>
        <section class="widget-body number-widget">
            <div class="widget-canvas" ng-controller="TeamLeadsCtrl" ng-init="init(teamId)">
				<div ng-repeat="evaluation in teamLeads | orderBy:'talent_category'" style="main-stat t-size-x12;margin-bottom:5px;">
					<canvas employee-talent-category="{{evaluation.talent_category}}" width="12" height="12"></canvas>
                    <span style="margin-left:10px;">
                        <a ng-if="evaluation.employee.display" href="#/employees/{{evaluation.employee.id}}">{{evaluation.employee.full_name}}</a>
                        <span ng-if="!evaluation.employee.display">{{evaluation.employee.full_name}}</span>
                    </span>
				</div>
            </div><!-- .widget-canvas -->
        </section>
      </div><!-- .widget-inner -->
    </article>

    <article class="widget clock loaded" id="widget-8494"  style="top: 285px; left: 0px;width: 966px;margin: 0px 0px 10px 0px;min-height:446px;background-color: #101214;">
      <div class="widget-inner large-screen" style="width:316px;background-color:#272727;float: left;height: 446px;">
          <section class="widget-body rag-widget">
            <nav id="cl" class="cl cl-effect-21">
                <ul>
                    <li><a ng-click="click_discussions()"><span class="glyphicon-regular glyphicon-discussions" style="margin-right: 10px"></span>Discussions</a></li>
                    <li><a ng-click="click_myers_briggs()"><span class="glyphicon-regular glyphicon-compass" style="margin-right: 10px"></span>Myers Briggs</a></li>
                    <li><a ng-click="click_vops()">VOPS</a></li>
                    <li><a ng-click="click_kolbe()">KOLBE</a></li>
                </ul>
            </nav>
          </section>
      </div>
      <div style="position: relative;float: left;">
          <div ng-controller="TeamCommentsCtrl" class="widget-inner large-screen make_transist hideflip" ng-class="{'showflip': show_discussions}" style="width:650px;min-height: 446px;position: absolute">
            <header class="no-reload">
              <h1 style="display:inline;">Team Discussions</h1>
            </header>
            <section class="widget-body text-widget" style="padding: 10px;">

                <div ng-repeat="comment in comments | orderBy:'created_date':true" style="margin:0 15px;padding:8px 0 8px 0px;display: block;width:580px">
                    <h2 ng-show="CreateHeader(comment.created_date)" style="font-size: 14px;color: #8b8b8b;border-bottom: 2px solid #8b8b8b">{{comment.created_date | date:'MMM d, yyyy'}}</h2>
                    <div style="display: block;width:580px;min-height: 48px;">
                        <div style="display: block; float: left; width: 48px;">
                           <a ng-href="#/employees/{{comment.owner.employee.id}}" style="cursor: pointer;color:#8b8b8b;"><img ng-src="{{ comment.owner.employee.avatar_small }}" style="display: inline-block; margin-left: auto; margin-right: auto; height: 48px; vertical-align:text-top;"/></a>
                        </div>
                        <div style="display: block; margin-left:35px; padding-left:10px;min-width: 80%;min-height: 28px;">
                            <div style="display: block; padding-left:10px;min-width: 90%;height: 22px;">
                                <a ng-href="#/employees/{{comment.owner.employee.id}}" style="cursor: pointer;color:#8b8b8b;">{{comment.owner.employee.full_name}}</a> commented on <a ng-href="#/employees/{{comment.associated_object.id}}" style="cursor: pointer;color:#8b8b8b;">{{comment.associated_object.full_name}}</a>
                            </div>
                            <div style="display: block; width: 500px;margin-left:15px;">
                               <div ng-show="showCommentEdit" style="position:relative">
                                  <textarea ng-model="comment.content" style="position: relative; width: 515px; height: 132px;background-color:#2a2a2a;color:#eee;resize:vertical;font-size: 14px;margin-top: 5px;">
                                  </textarea>
                                  <div id="editActions" style="right:2px;bottom:-33px;">
                                        <button class="button small blue" ng-disabled="!comment.content" ng-click="saveComment(comment);showCommentEdit=false">Save</button>
                                        <button class="button small orange" ng-click="cancelEditComment(comment);showCommentEdit=false">Cancel</button>
                                  </div>
                                </div>
                                <div ng-show="!showCommentEdit">
                                    <div style="display: block;max-width: 100%;min-height: 48px;">
                                        <a ng-href="#/employees/{{comment.associated_object.id}}" style="cursor: pointer;color:#8b8b8b;"><img ng-src="{{ comment.associated_object.avatar_small }}" style="float: left; height: 48px; padding: 0 10px 0 0;"/></a>
                                        <span ng-init="length=500" ng-bind-html-unsafe="comment.content | new_line | cut:true:length" style="line-height: 125%"></span> <span ng-show="comment.content.length>length" ng-init="showMoreButton=true"><a ng-click="length=0;showMoreButton=false;" ng-show="showMoreButton" style="color: #8b8b8b;cursor: pointer">more</a><a ng-click="length=500;showMoreButton=true" ng-show="!showMoreButton" style="color: #8b8b8b;cursor: pointer">less</a></span>
                                    </div>
                                    <ul class="feed-actions">
                                        <li class="feed-action"><a ng-click="showCommentInput = ! showCommentInput" class="feed-action" style="color: #8b8b8b;cursor: pointer;">comment</a><span ng-show="comment.subcomments.length>0"> ({{comment.subcomments.length}})</span></li>
                                        <li ng-show="comment.owner.id==currentUser.id" class="feed-action"><a ng-click="showCommentEdit=true" class="feed-action" style="color: #8b8b8b;cursor: pointer;">edit</a></li>
                                        <li ng-show="comment.owner.id==currentUser.id" class="feed-action"><a ng-click="deleteComment(comment)" class="feed-action" style="color: #8b8b8b;cursor: pointer;">delete</a></li>
                                    </ul>
                                    <span style="color:#8b8b8b;">{{comment.created_date | date:'MMM d, yyyy h:mma'}}</span>
                                </div>
                            </div>
                        </div>

                        <div style="clear:both;"></div>
                        <div ng-show="showCommentInput || comment.subcomments" style="display: block; margin:0 0 0 58px; padding:5px; background-color:#272727;border: 1px solid #434343;">
                            <div ng-repeat="subcomment in comment.subcomments | orderBy:'created_date'">
                                <div style="display: block;width:668px;min-height: 48px; padding: 5px;">
                                    <div style="display: block; float: left; width: 48px;">
                                        <a ng-href="#/employees/{{subcomment.owner.employee.id}}" style="cursor: pointer;color:#8b8b8b;"><img ng-src="{{ subcomment.owner.employee.avatar_small }}" style="display: inline-block; margin-left: auto; margin-right: auto; height: 48px; vertical-align:text-top;"/></a>
                                    </div>
                                    <div style="display: block; float: left;padding-left:10px;width: 440px;min-height: 48px;padding-bottom: 5px;">
                                        <a ng-href="#/employees/{{subcomment.owner.employee.id}}" style="cursor: pointer;color:#8b8b8b;">{{subcomment.owner.employee.full_name}}</a>
                                        <div ng-show="showSubCommentEdit" style="position:relative">
                                          <textarea ng-model="subcomment.content" style="position: relative; width: 430px; height: 132px;background-color:#2a2a2a;color:#eee;resize:vertical;font-size: 14px;margin-top: 5px;">
                                          </textarea>
                                          <div id="editActions" style="right:2px;bottom:-33px;">
                                                <button class="button small blue" ng-disabled="!subcomment.content" ng-click="saveSubComment(subcomment, comment);showSubCommentEdit=false">Save</button>
                                                <button class="button small orange" ng-click="cancelEditSubComment(subcomment, comment);showSubCommentEdit=false">Cancel</button>
                                          </div>
                                        </div>
                                        <div ng-show="!showSubCommentEdit">
                                            <span ng-init="length=500" data-ng-bind-html-unsafe="subcomment.content | new_line | cut:true:length" style="margin-left:5px;line-height: 115%"></span> <span ng-show="subcomment.content.length>length" ng-init="showMoreButton=true"><a ng-click="length=0;showMoreButton=false;" ng-show="showMoreButton" style="color: #8b8b8b;cursor: pointer">more</a><a ng-click="length=500;showMoreButton=true" ng-show="!showMoreButton" style="color: #8b8b8b;cursor: pointer">less</a></span>
                                            <ul class="feed-actions">
                                                <li ng-show="subcomment.owner.id==currentUser.id" class="feed-action"><a ng-click="showSubCommentEdit=true" class="feed-action" style="color: #8b8b8b;cursor: pointer;">edit</a></li>
                                                <li ng-show="subcomment.owner.id==currentUser.id" class="feed-action"><a ng-click="deleteSubComment(comment, subcomment)" class="feed-action" style="color: #8b8b8b;cursor: pointer;">delete</a></li>
                                            </ul>
                                            <span style="color:#8b8b8b;">{{subcomment.created_date | date:'MMM d, yyyy h:mma'}}</span>
                                        </div>
                                    </div>
                                </div>
                                <div style="clear:both;"></div>
                            </div>
                            <div ng-show="showCommentInput || comment.subcomments" style="padding:5px;">
                                <div style="float:left;width:410px;-webkit-border-radius: 2px;moz-border-radius: 3px;-ms-border-radius: 3px;-o-border-radius: 3px;border-radius: 3px;border: 1px solid #c1c1c1;background-color:white;">
                                    <textarea class="text" ng-model="comment.newSubCommentText" ng-class="{'expand': comment.expandTextArea, 'compress': !comment.expandTextArea}" ng-click="comment.expandTextArea=true;toggleChildCommentTextExpander(comment)" rows="1" cols="40" placeholder="Add a comment..." style="width:398px;font-size:14px;padding:6px;border: none;resize:vertical;"></textarea>
                                </div>
                                <button class="small-comment" ng-disabled="!comment.newSubCommentText" ng-click="addSubComment(comment);expandTextArea=false">Comment</button>
                                <div style="clear:both;"></div>
                            </div>
                            <div style="clear:both;"></div>
                        </div>
                    </div>
                </div>
            </section>
          </div><!-- .widget-inner -->
                  <div class="widget-inner large-screen make_transist hideflip" ng-class="{'showflip': show_vops}" style="width:650px;position: absolute; min-height: 446px;">
                    <header class="no-reload">
                      <h1 style="display:inline;">VOPS</h1>
                    </header>
                    <section class="widget-body rag-widget" style="padding: 24px;">
                      <div class="widget-canvas">
                        <div class="t-size-x16" style="min-width: 50%">
                            <div ng-repeat="assessment in assessments | filter:{category.assessment.id:3} | greaterThan:299 | orderBy:'score': true">
                                  <div style="width:600px"><span style="border-bottom: 1px solid; padding-bottom: 3px;">{{ assessment.name }}<span style="color: #8b8b8b;"> ({{ assessment.score }})</span></span></div>
                                  <div ng-bind-html-unsafe="assessment.description" style="margin:15px;width:560px"></div>

                            </div>
                            Coming Soon!
                        </div>
                      </div>
                    </section>
                  </div>
                  <div class="widget-inner large-screen make_transist hideflip" ng-class="{'showflip': show_kolbe}" style="width:650px;position: absolute;min-height: 446px;">
                    <header class="no-reload">
                      <h1 style="display:inline;">Kolbe</h1>
                    </header>
                    <section class="widget-body rag-widget" style="padding: 24px;">
                      <div class="widget-canvas">
                        <div class="t-size-x16" style="min-width: 50%">
                            <div ng-repeat="assessment in assessments | filter:{category.assessment.id:2} | orderBy:'category.id'">
                                  <div style="width:600px"><span style="border-bottom: 1px solid; padding-bottom: 3px;">{{ assessment.name }} <span style="color: #8b8b8b;">{{ assessment.category.name }} ({{ assessment.score }})</span></span></div>
                                  <div ng-bind-html-unsafe="assessment.description" style="margin:15px;width:560px"></div>

                            </div>
                            Coming Soon!
                        </div>
                      </div>
                    </section>
                  </div>
                  <div class="widget-inner large-screen make_transist hideflip" ng-class="{'showflip': show_myers_briggs}" style="width:650px;position: absolute;min-height: 446px;">
                    <header class="no-reload">
                      <h1 style="display:inline;">Myers Briggs</h1>
                    </header>
                    <div ng-show="mbti.total_assessed<=mbti.total_not_assessed" style="width:100%;background-color:red;padding:5px;color:white;">Only {{mbti.total_assessed}} out of {{mbti.total}} team members have shared their Myers Briggs type.</div>
                    <div ng-show="mbti.total_assessed>mbti.total_not_assessed" style="width:100%;background-color:#58588D;padding:5px;color:white;">{{mbti.total_assessed}} out of {{mbti.total}} team members have shared their Myers Briggs type.</div>
                    <section class="widget-body rag-widget" style="padding: 24px;">
                      <div class="widget-canvas">
                        <div class="t-size-x16" style="min-width: 50%">
                            <div>
                                <div style="width:600px"><span style="border-bottom: 1px solid; padding-bottom: 3px;">Team Type: {{ mbti.type | uppercase}}</span></div>
                                <div ng-bind-html-unsafe="mbti.description" style="margin:15px;width:560px"></div>
                                <div class="row">
                                  <div class="col-1-4">ISTJ <p><h1>{{istj.c}}</h1></p></div>
                                  <div class="col-1-4">ISFJ <p><h1>{{isfj.c}}</h1></p></div>
                                  <div class="col-1-4">INFJ <p><h1>{{infj.c}}</h1></p></div>
                                  <div class="col-1-4">INTJ <p><h1>{{intj.c}}</h1></p></div>
                                </div><!-- /.row -->
                                <div class="row">
                                  <div class="col-1-4">ISTP <p><h1>{{istp.c}}</h1></p></div>
                                  <div class="col-1-4">ISFP <p><h1>{{isfp.c}}</h1></p></div>
                                  <div class="col-1-4">INFP <p><h1>{{infp.c}}</h1></p></div>
                                  <div class="col-1-4">INTP <p><h1>{{intp.c}}</h1></p></div>
                                </div><!-- /.row -->
                                <div class="row">
                                  <div class="col-1-4">ESTP <p><h1>{{estp.c}}</h1></p></div>
                                  <div class="col-1-4">ESFP <p><h1>{{esfp.c}}</h1></p></div>
                                  <div class="col-1-4">ENFP <p><h1>{{enfp.c}}</h1></p></div>
                                  <div class="col-1-4">ENTP <p><h1>{{entp.c}}</h1></p></div>
                                </div><!-- /.row -->
                                <div class="row">
                                  <div class="col-1-4">ESTJ <p><h1>{{estj.c}}</h1></p></div>
                                  <div class="col-1-4">ESFJ <p><h1>{{esfj.c}}</h1></p></div>
                                  <div class="col-1-4">ENFJ <p><h1>{{enfj.c}}</h1></p></div>
                                  <div class="col-1-4">ENTJ <p><h1>{{entj.c}}</h1></p></div>
                                </div><!-- /.row -->
                            </div>
                        </div>
                      </div>
                    </section>
                  </div>
      </div>
    </article>
  </div>
  <style>
/* grid */
.row {
  margin: 0 -10px;
}
.row:last-child {
  margin-bottom: 0;
}
[class*="col-"] {
  padding: 15px;
}

@media all and ( min-width: 600px ) {

  .row {
    display: table;
    table-layout: fixed;
    width: 98%;
    margin-left: 10px;
  }
  [class*="col-"] {
    display: table-cell;
  }

  .col-1-4 {
    background-color:#585858;
    width: 25%;
    height: 100px;
    text-align: center;
    border-style: solid;
    border-width: 5px;
    border-color: #2a2a2a;
  }
}
  </style>
