<div id="feedback" class="container">
    <div>
        <div class="header-links hide-for-mobile-and-tablet pull-right">
            <a href="" data-toggle="modal" data-target=".feedback-welcome-modal" class="show-welcome-modal">Show welcome message</a>
        </div>
        <h1>Strengths
            <div class="button-group">
                <button class="btn btn-success btn-feedback" ng-click="feedback.requestFeedback()" type="button"><i class="fa fa-comment"></i> Ask</button>
                <button class="btn btn-success btn-feedback" ng-click="qualitiesReport.giveUnsolicited()" type="button"><i class="fa fa-pencil"></i> Give</button>
            </div>
        </h1>
    </div>
    <div class="qualities panel">
        <h2 class="panel-title ng-binding"><a ng-click="qualitiesReport.collapse=!qualitiesReport.collapse" style="cursor: pointer">My Strengths</a>
            <i class="fa fa-chevron-down pull-right collapse-toggle" ng-show="!qualitiesReport.collapse" ng-click="qualitiesReport.collapse=true"></i>
            <i class="fa fa-chevron-right pull-right collapse-toggle" ng-show="qualitiesReport.collapse" ng-click="qualitiesReport.collapse=false"></i>
        </h2>

        <div style="margin-top: 20px;">
            <div class="wrapper">
                <div packery ng-repeat="quality in qualitiesReport.qualities| orderBy:['-count', 'type', 'name']" class="quality well well-sm" style="display:flex" ng-init="collapse=true" ng-class="{'is-expanded': !collapse, 'quality-shared': quality.type=='shared', 'quality-blind': quality.type=='blind', 'quality-hidden': quality.type=='hidden'}" ng-click="collapse=!collapse;qualitiesReport.resizeLayout($event, collapse)">
                    <div class="quality-label quality-content" style="width: 100%;">
                        <h4><strong>{{ quality.name }}</strong> <span class="badge pull-right" ng-class="{'quality-badge-shared': quality.type=='shared', 'quality-badge-blind': quality.type=='blind', 'quality-badge-hidden': quality.type=='hidden'}">{{ quality.count }}</span></h4>
                        <div ng-show="!collapse">
                            <div ng-bind-html="quality.description" style="margin-top:5px;"></div>
                            <div style="margin-top: 10px; min-height: 42px">
                                <img ng-attr-title="{{perception.reviewer.full_name}}" ng-repeat="perception in quality.perceptions" ng-src="{{perception.reviewer.avatar_small}}" class="tiny-headshot"/>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <!--<div class="grid">
            <div packery ng-repeat="quality in qualitiesReport.qualities| orderBy:['-count', 'type', 'name']" ng-init="collapse=true" class="grid-item" ng-class="{'is-expanded': !collapse}" ng-click="collapse=!collapse;qualitiesReport.resizeLayout($event, collapse)">
                <div class="grid-item-content"></div>
            </div>
        </div>-->
    </div>
</div>
<style>
.grid {
  background: #EEE;
  width: 100%;
}

.grid-item {
  float: left;
}

/* item is invisible, but used for layout */
.grid-item,
.grid-item-content {
  width: 309px;
  height: 46px;
}

/* grid-item-content is visible, and transitions size */
.grid-item-content {
  width: 309px;
  height: 46px;
  background: #C09;
  border: 2px solid hsla(0, 0%, 0%, 0.5);
  -webkit-transition: width 0.4s, height 0.4s;
          transition: width 0.4s, height 0.4s;
}

.grid-item:hover .grid-item-content {
  background: #C90;
  cursor: pointer;
}

/* both item and item content change size */
.grid-item.is-expanded,
.grid-item.is-expanded .grid-item-content {
  width: 309px;
  height: 316px;
}

.grid-item.is-expanded {
  z-index: 2;
}

.grid-item.is-expanded .grid-item-content {
  background: #0C9;
}
</style>