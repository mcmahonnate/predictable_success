<div id="devzones" class="container" data-hj-masked>
    <div>
        <a href="" data-toggle="modal" data-target=".devzones-welcome-modal" class="pull-right show-welcome-modal">Show welcome message</a>
        <h1>ID</h1>
    </div>

    <div ng-show="devzones.myConversation && !devzones.busy && !devzones.selfie.completed" ng-class="{'slide-up-active': hideMessage}" class="alert alert-success slide-up" role="alert">
        <a class="btn btn-success btn-feedback pull-right" ng-show="!devzones.selfie.completed" ng-click="devzones.submitDevZone()" type="button">
            <i class="fa fa-comment"></i>
            <span ng-if="!devzones.selfie.answers.length>0" class="hide-for-mobile">Take your </span>
            <span ng-if="devzones.selfie.answers.length>0" class="hide-for-mobile">Finish your </span>
            Selfie
        </a>
        <h2 class="alert-title">Take a Selfie!</h2>
        <div class="alert-message" style="padding-left:0; padding-top: 10px">
            <div>
                <div class="avatar-container pull-left hide-for-mobile" style="padding-right:10px;">
                    <span class="large-headshot">
                        <img ng-src="{{devzones.myConversation.development_lead.avatar}}" alt="{{devzones.myConversation.development_lead.full_name}}" class="headshot-image">
                    </span>
                </div>
                <div style="width:80%;">
                    <div class="comment-text">
                        {{ devzones.myConversation.development_lead.full_name }} {{ devzones.idSessionIntro }} Click <a style="text-decoration: underline; cursor: pointer" ng-click="devzones.showMeetingParticipants(devzones.myConversation.meeting_participants)">here</a> to find out who else will be at your meeting. In the weeks following, {{ devzones.myConversation.development_lead.first_name }} will meet with you about your selfie.

                    </div>
                </div>
            </div>
        </div>
    </div>

    <div class="panel panel-empty fade-in" ng-show="!devzones.busy && devzones.mySelfies.length==0 && devzones.myTeamLeadConversations.length==0 && devzones.meetings.length==0 && !devzones.myConversation">
        <img class="grumpycat" src="../static/images/grumpycat.png" alt="Grumpy Cat" />
        <h2>"Mmmmeeh... i see you don't have any activity yet.
            <span ng-show="devzones.selfie && !devzones.selfie.completed">Use the button above or this link to
                <a ng-click="devzones.submitDevZone()" type="button">
                    <span ng-if="!devzones.selfie.answers.length>0">take your </span>
                    <span ng-if="devzones.selfie.answers.length>0">finish your </span>
                    Selfie."
                </a>
            </span>
            <span ng-show="!devzones.selfie || devzones.selfie.completed">
                Hang in there.
            </span>
        </h2>
    </div>
    <div class="panel devzones activity" ng-show="devzones.mySelfies.length>0">
        <h2 class="panel-title ng-binding">My Development Zones</h2>
        <div>
            <table class="table responsive-table" >
                <thead>
                    <tr>
                        <th scope="col" class="width-20-percent">When</th>
                        <th scope="col" class="width-20-percent">Represented By</th>
                        <th scope="col" class="width-20-percent">Development Zone</th>
                        <th scope="col" class="width-20-percent centered">Action</th>
                    </tr>
                </thead>
                <tbody>
                    <tr ng-repeat="selfie in devzones.mySelfies | orderBy:'date':false">
                        <td class="timeago">{{ selfie.date | fromNow }}</td>
                        <td>{{ selfie.development_lead.full_name }}</td>
                        <td>{{ selfie.zone.name }} </td>
                        <td class="centered">
                            <a class="btn btn-default btn-md give-feedback-btn" ng-href="#/id/{{ selfie.development_conversation }}" type="button">
                                <i class="fa fa-eye"></i> View
                            </a>
                        </td>
                    </tr>
                </tbody>
            </table>
        </div>
    </div>
    <div class="panel devzones" ng-show="devzones.myTeamLeadConversations.length>0">
        <h2 class="panel-title ng-binding"><a ng-click="devzones.teamSelfiesCollapse=!devzones.teamSelfiesCollapse" style="cursor: pointer">My Team's Selfies</a>
            <i class="fa fa-chevron-down pull-right collapse-toggle" ng-show="!devzones.teamSelfiesCollapse" ng-click="devzones.teamSelfiesCollapse=true"></i>
            <i class="fa fa-chevron-right pull-right collapse-toggle" ng-show="devzones.teamSelfiesCollapse" ng-click="devzones.teamSelfiesCollapse=false"></i>
        </h2>
        <div collapse="devzones.teamSelfiesCollapse">
            <table class="table responsive-table" >
                <thead>
                    <tr>
                        <th scope="col" class="width-20-percent">Employee</th>
                        <th scope="col" class="width-20-percent">Represented By</th>
                        <th scope="col" class="width-20-percent">Finished</th>
                        <th scope="col" class="width-20-percent">My Perception</th>
                        <th scope="col" class="width-20-percent centered">Action</th>
                    </tr>
                </thead>
                <tbody>
                    <tr ng-repeat="conversation in devzones.myTeamLeadConversations | orderBy:'employee.full_name':false">
                        <td><span class="tiny-headshot pull-left"><img ng-src="{{ conversation.employee_assessment.employee.avatar_small }}" alt="{{ conversation.employee_assessment.employee.full_name }}" /></span>{{ conversation.employee_assessment.employee.full_name }}</td>
                        <td>{{ conversation.development_lead.full_name }}</td>
                        <td><i ng-show="conversation.employee_assessment.completed" class="fa fa-check" title="Completed"></i></td>
                        <td>
                            <a ng-show="conversation.development_lead_assessment" ng-click="devzones.giveLeaderPerception(conversation)" style="cursor: pointer">
                                {{ conversation.development_lead_assessment.zone.name }}
                            </a>
                        </td>
                        <td class="centered">
                            <a ng-disabled="!conversation.employee_assessment.completed" class="btn btn-default btn-md give-feedback-btn" ng-href="#/id/{{ conversation.id }}" type="button">
                                <i class="fa fa-eye"></i> View Selfie
                            </a>
                        </td>
                    </tr>
                </tbody>
            </table>
        </div>
    </div>
    <div class="panel devzones" ng-show="devzones.meetings.length>0">
        <h2 class="panel-title ng-binding"><a ng-click="devzones.meetingsCollapse=!devzones.meetingsCollapse" style="cursor: pointer">My Meetings</a>
            <i class="fa fa-plus-circle collapse-toggle" ng-show="!devzones.meetingsCollapse && devzones.isAdmin" ng-click="devzones.addMeeting()" style="margin-left: 5px;"></i>
            <i class="fa fa-chevron-down pull-right collapse-toggle" ng-show="!devzones.meetingsCollapse" ng-click="devzones.meetingsCollapse=true"></i>
            <i class="fa fa-chevron-right pull-right collapse-toggle" ng-show="devzones.meetingsCollapse" ng-click="devzones.meetingsCollapse=false"></i>

        </h2>
        <div collapse="devzones.meetingsCollapse">
            <table class="table responsive-table" >
                <thead>
                    <tr>
                        <th scope="col" class="width-20-percent">Meeting</th>
                        <th scope="col" class="width-60-percent">Participants</th>
                        <th scope="col" class="width-60-percent">Selfies Completed</th>
                        <th scope="col" class="width-20-percent centered">Action</th>
                    </tr>
                </thead>
                <tbody>
                    <tr ng-repeat="meeting in devzones.meetings | orderBy:'name':false">
                        <td>{{ meeting.name }}</td>
                        <td><img class="tiny-headshot pull-left" ng-src="{{ participant.avatar_small }}" ng-attr-title="{{participant.full_name}}" ng-repeat="participant in meeting.participants"/></td>
                        <td>{{ meeting.selfies_completed}} out of {{ meeting.selfies_total}}</td>
                        <td class="centered">
                            <a class="btn btn-default btn-md give-feedback-btn" ng-href="#/id/meetings/{{ meeting.id }}" type="button">
                                <i class="fa fa-eye"></i> View Meeting
                            </a>
                        </td>
                    </tr>
                </tbody>
            </table>
        </div>
    </div>

    <div ng-include="'/static/angular/devzones/partials/_modals/welcome-message.html'"></div>
</div>