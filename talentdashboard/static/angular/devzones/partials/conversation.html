<div id="devzones" class="container checkin" data-hj-masked>
    <div>
        <h1><a href="#/id">ID</a></h1>
    </div>
    <div ng-repeat="advice in conversation.conversation.advice" ng-class="{'slide-up-active': hideMessage}" ng-if="advice.alert_for_development_lead && conversation.conversation.development_lead_assessment" class="alert {{advice.alert_type_for_development_lead}} slide-up" role="alert">
        <span ng-bind-html="conversation.replaceTemplateTags(advice.alert_for_development_lead)"></span>
    </div>
	<div class="checkin-header">
		<div class="type-tag">
			<span>Development</span>
		</div>
        <img ng-src="{{ conversation.selfie.employee.avatar_small }}" class="headshot medium-headshot pull-left" alt="{{ conversation.selfie.employee.full_name }}'s avatar" />
        <div class="pull-left">
			<h1>{{ conversation.selfie.employee.full_name }}</h1>
			<p class="timestamp">Took a selfie {{ conversation.selfie.date | fromNow }}</p>
		</div>
	</div>
    <div ng-if="conversation.is_employee && !conversation.conversation.development_lead_assessment.completed" ng-class="{'slide-up-active': hideMessage}" class="alert alert-success slide-up" role="alert">
        <i class="fa fa-heartbeat sent-icon"></i>
        <h2 class="alert-title">Thanks for taking your Selfie!</h2>
        <p class="alert-message">In the next couple of weeks {{ conversation.development_lead.full_name }} will meet with you about your selfie.
    </div>
    <div ng-show="conversation.conversation.development_lead_assessment.notes || conversation.is_org_dev" class="checkin-summary panel activity">
        <h2 class="panel-title">Development Conversation Notes
            <a ng-click="conversation.giveLeaderPerception(conversation.conversation, false, 1)" ng-if="(conversation.is_development_lead && conversation.conversation.development_lead_assessment.is_draft)" class="pull-right" style="cursor: pointer;text-decoration: underline;color: #2f742f;font-size: 14px;">Edit</a>
            <a ng-click="conversation.giveLeaderPerception(conversation.conversation, true, 0)" ng-if="(conversation.is_org_dev && !conversation.conversation.development_lead_assessment.is_draft && !conversation.conversation.development_lead_assessment.completed)" class="pull-right" style="cursor: pointer;text-decoration: underline;color: #2f742f;font-size: 14px;">Edit</a>
        </h2>
        <div class="activity-item activity-items" ng-show="conversation.development_lead">
            <div class="activity-checkin row" style="margin: 20px 0px;">
                <p class="panel-subtext">{{ conversation.conversation.development_lead_assessment.notes }}</p>
            </div>
        </div>
        <devzone-comments id="conversation.conversation.development_lead_assessment.id" comments="conversation.conversation.development_lead_assessment.comments"></devzone-comments>
    </div>
    <div ng-show="!conversation.conversation.development_lead_assessment.notes && !conversation.is_org_dev" class="checkin-summary panel activity">
        <div class="worksheet-message">
            <h2 class="panel-title">Development Conversation Notes</h2>
        </div>
        <div class="activity-item activity-items">
            <div class="activity-checkin row" style="margin: 20px 0px; opacity: 0.5">
                <i class="fa fa-info-circle pull-left" style="font-size: 40px;"></i>
                <p class="panel-subtext" ng-show="!conversation.is_development_lead && !conversation.conversation.development_lead_assessment">We are waiting for {{ conversation.development_lead.first_name }} to enter their notes from your conversation.</p>
                <p class="panel-subtext" ng-show="conversation.is_development_lead && (!conversation.conversation.development_lead_assessment || (!conversation.conversation.development_lead_assessment.is_draft && !conversation.conversation.development_lead_assessment.completed))">We are waiting for your notes.</p>
            </div>
        </div>
    </div>
    <div class="panel devzones">
        <h2 class="panel-title">
            Development Zone
            <a ng-click="conversation.giveLeaderPerception(conversation.conversation, false, 0)" ng-if="(conversation.is_development_lead && conversation.conversation.development_lead_assessment.is_draft)" class="pull-right" style="cursor: pointer;text-decoration: underline;color: #2f742f;font-size: 14px;">Edit</a>
            <a ng-click="conversation.giveLeaderPerception(conversation.conversation, true, 0)" ng-if="(conversation.is_org_dev && !conversation.conversation.development_lead_assessment.is_draft && !conversation.conversation.development_lead_assessment.completed)" class="pull-right" style="cursor: pointer;text-decoration: underline;color: #2f742f;font-size: 14px;">Edit</a>
        </h2>

        <div class="devzone activity" style="max-width: inherit; padding-top: 10px; margin: 0px auto 20px auto;">
            <div ng-show="!conversation.conversation.development_lead_assessment" class="well activity-items">
                <h3 class="modal-title">{{ conversation.selfie.zone.name }}</h3>
                <p ng-bind-html="conversation.selfie.zone.description"></p>
            </div>
            <div ng-show="conversation.conversation.development_lead_assessment" class="well activity-items">
                <h3 class="modal-title">{{ conversation.conversation.development_lead_assessment.zone.name }}</h3>
                <p ng-bind-html="conversation.conversation.development_lead_assessment.zone.description"></p>
            </div>
        </div>
    </div>

    <div class="checkin-summary panel activity" ng-show="conversation.selfie.notes">
        <h2 class="panel-title" ng-show="conversation.is_employee">Your Selfie Note</h2>
        <h2 class="panel-title" ng-show="!conversation.is_employee">{{ conversation.selfie.employee.first_name }}'s Selfie Note</h2>
        <div class="activity-item activity-items">
            <div class="activity-checkin row" style="margin: 20px 0px;">
                <p class="panel-subtext">{{ conversation.selfie.notes }}</p>
            </div>
        </div>
        <devzone-comments id="conversation.selfie.id" comments="conversation.selfie.comments"></devzone-comments>
    </div>
    <div class="panel devzones" ng-show="conversation.selfie.answers.length>0">
        <h2 class="panel-title">
            <a ng-click="conversation.collapseSelfie=!conversation.collapseSelfie" style="cursor: pointer">
                <span ng-show="conversation.is_employee">Your Selfie Answers</span>
                <span ng-show="!conversation.is_employee">{{ conversation.selfie.employee.first_name }}'s Selfie Answers</span>
            </a>

            <i class="fa fa-chevron-down pull-right collapse-toggle" ng-show="!conversation.collapseSelfie" ng-click="conversation.collapseSelfie=true"></i>
            <i class="fa fa-chevron-right pull-right collapse-toggle" ng-show="conversation.collapseSelfie" ng-click="conversation.collapseSelfie=false"></i>
        </h2>
        <div class="devzone" style="max-width: inherit; padding-top: 10px; margin: 0px auto 20px auto;" collapse="conversation.collapseSelfie">
            <div ng-repeat="answer in conversation.selfie.answers | orderBy:'question_order'">
                <p style="margin: 15px 0;">{{ answer.question_text }}</p>

                <div class="devzone selfie-answer well well-sm selfie-answer-selected" style="display:flex; margin:10px 0px; max-width: 500px;">
                    <div class="selfie-answer-label" style="width: 91%;">
                        <h4><strong>{{ answer.text }}</strong></h4>
                    </div>
                    <div style="margin: auto 0px;">
                        <i class="fa fa-check-circle-o selected-icon"></i>
                    </div>
                </div>
            </div>
        </div>
    </div>
    <button class="btn btn-default" type="button" ng-click="conversation.goBack()">&larr; Back</button>
    <button class="btn btn-success pull-right" type="button" ng-click="conversation.giveLeaderPerception(conversation.conversation, true, 1)" ng-if="(conversation.is_org_dev && !conversation.conversation.development_lead_assessment.is_draft && !conversation.conversation.development_lead_assessment.completed)">Send to {{ conversation.development_lead.first_name }}</button>
    <button ng-show="conversation.is_development_lead && conversation.conversation.development_lead_assessment && !conversation.conversation.development_lead_assessment.completed" class="btn btn-success pull-right" type="button" ng-click="conversation.sendToEmployee()">Send to {{ conversation.selfie.employee.first_name }}</button>
</div>