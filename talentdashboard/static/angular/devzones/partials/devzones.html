<div id="devzones" class="container" data-hj-masked>
    <div>
        <a href="" data-toggle="modal" data-target=".devzones-welcome-modal" class="pull-right show-welcome-modal">Show welcome message</a>
        <h1>ID</h1>
    </div>

    <div ng-show="devzones.myConversation && !devzones.busy " ng-class="{'slide-up-active': hideMessage}" class="alert alert-success slide-up" role="alert">
        <a class="btn btn-success btn-feedback pull-right" ng-show="!devzones.selfie.completed" ng-click="devzones.submitDevZone()" type="button">
            <i class="fa fa-comment"></i>
            <span ng-if="!devzones.selfie.answers.length>0" class="hide-for-mobile">Take your </span>
            <span ng-if="devzones.selfie.answers.length>0" class="hide-for-mobile">Finish your </span>
            Selfie
        </a>
        <h2 class="alert-title">Your ID Session is Coming Up!</h2>
        <div class="alert-message" style="padding-left:0; padding-top: 10px">
            <div>
                <div class="avatar-container pull-left hide-for-mobile" style="padding-right:10px;">
                    <span class="large-headshot">
                        <img ng-src="{{devzones.myConversation.development_lead.avatar}}" alt="{{devzones.myConversation.development_lead.full_name}}" class="headshot-image">
                    </span>
                </div>
                <div style="width:80%;">
                    <div class="comment-text">
                        {{ devzones.myConversation.development_lead.full_name }} {{ devzones.idSessionIntro }} Click <a style="text-decoration: underline; cursor: pointer" ng-click="devzones.showMeetingParticipants(devzones.myConversation.meeting_participants)">here</a> to find out who else will be at your meeting.

                    </div>
                </div>
            </div>
        </div>
    </div>
    <div class="panel panel-empty fade-in" ng-show="devzones.mySelfies.length==0 && devzones.myTeamLeadConversations.length==0">
        <img class="grumpycat" src="../static/images/grumpycat.png" alt="Grumpy Cat" />
        <h2>"Mmmmeeh... i see you don't have any activity yet.
            <span ng-show="devzones.selfie && !devzones.selfie.completed">Use the button above or this link to
                <a ng-click="devzones.submitDevZone()" type="button">
                    <span ng-if="!devzones.selfie.answers.length>0">take your </span>
                    <span ng-if="devzones.selfie.answers.length>0">finish your </span>
                    Selfie."
                </a>
            </span>
            <span ng-show="!devzones.selfie || devzones.selfie.completed">
                Hang in there.
            </span>
        </h2>
    </div>
    <div class="panel devzones" ng-show="devzones.myTeamLeadConversations.length>0">
        <h2 class="panel-title ng-binding">Team Selfies
            <i class="fa fa-chevron-up pull-right collapse-toggle" ng-show="!devzones.collapse" ng-click="devzones.toggleCollapse()"></i>
            <i class="fa fa-chevron-down pull-right collapse-toggle" ng-show="devzones.collapse" ng-click="devzones.toggleCollapse()"></i>
        </h2>
        <div collapse="devzones.collapse">
            <table class="table responsive-table" >
                <thead>
                    <tr>
                        <th scope="col" class="width-20-percent">Employee</th>
                        <th scope="col" class="width-20-percent">Represented By</th>
                        <th scope="col" class="width-10-percent">Finished</th>
                        <th scope="col" class="width-10-percent centered">Action</th>
                    </tr>
                </thead>
                <tbody>
                    <tr ng-repeat="conversation in devzones.myTeamLeadConversations | orderBy:'employee.full_name':false">
                        <td><span class="tiny-headshot pull-left"><img ng-src="{{ conversation.employee_assessment.employee.avatar_small }}" alt="{{ conversation.employee_assessment.employee.full_name }}" /></span>{{ conversation.employee_assessment.employee.full_name }}</td>
                        <td>{{ conversation.development_lead.full_name }}</td>
                        <td><i ng-show="conversation.employee_assessment.completed" class="fa fa-check" title="Completed"></i></td>
                        <td class="centered">
                            <a class="btn btn-default btn-md give-feedback-btn" ng-show="false" ng-click="devzones.takeLeaderAssessment()" type="button">
                                Assess
                            </a>
                            <a ng-disabled="!conversation.employee_assessment.completed" class="btn btn-default btn-md give-feedback-btn" ng-href="#/devzones/selfies/{{ conversation.employee_assessment.id }}" type="button">
                                <i class="fa fa-eye"></i> View Selfie
                            </a>
                        </td>
                    </tr>
                </tbody>
            </table>
        </div>
    </div>

    <div class="panel devzones" ng-show="devzones.mySelfies.length>0">
        <h2 class="panel-title ng-binding">Your Selfies</h2>

        <div class="well" ng-repeat="selfie in devzones.mySelfies | orderBy:'date':true">
            <h3 class="modal-title">{{ selfie.zone.name }}</h3>
            <span class="timeago">{{ selfie.date | fromNow }}</span>
            <p ng-repeat="advice in selfie.advice " ng-bind-html="advice.advice_description_for_employee"></p>
            <p class="advice-description"><strong>What else can I do?</strong></p>
            <p class="advice-description">Don't forget you can always ask your peers for feedback or request a check-in from your Coach or Team Lead at anytime. Just click a button below to get started.</p>
            <div class="button-group">
                <button class="btn btn-success btn-feedback" ng-click="devzones.requestFeedback()" type="button"><i class="fa fa-send"></i> Ask for Feedback</button>
                <button class="btn btn-success btn-feedback" ng-click="devzones.requestCheckIn()" type="button"><i class="fa fa-check"></i> Request Check-In</button>
            </div>
        </div>

    </div>
    <div ng-include="'/static/angular/devzones/partials/_modals/welcome-message.html'"></div>
</div>